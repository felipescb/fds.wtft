{"version":3,"sources":["index.js"],"names":["formSerialize","formElement","values","inputs","elements","i","length","name","value","dumpValues","form","r","data","console","log","JSON","stringify","encodeURIComponent","scheduleContentTemplate","it","window","retrieveDMJson","f","document","querySelector","a","temp","createElement","className","href","download","innerHTML","target","parentNode","replaceChild","click","uploader","main","schedule","addEventListener","event","reader","FileReader","readAsText","files","onload","ev","obj","parse","result","prop"],"mappings":";;;AAgFI,aAhFJ,QAAA,oBAEA,IAAMA,EAAgB,SAAAC,GAIf,IAHCC,IAAAA,EAAS,GACTC,EAASF,EAAYG,SAElBC,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IACjCH,EAAOC,EAAOE,GAAGE,MAAQJ,EAAOE,GAAGG,MAE9BN,OAAAA,GAGHO,EAAa,SAAAC,GAAQ,OAAA,WACnBC,IAAAA,EAAIX,EAAcU,GAIjBE,OAHPC,QAAQC,IAAIH,GACZE,QAAQC,IAAIC,KAAKC,UAAUL,IAChB,2BAA6BM,mBAAmBF,KAAKC,UAAUL,MAItEO,EAA0B,SAACC,GACDA,MAAAA,mCAAAA,OAAAA,EAEYA,qFAAAA,OAAAA,EAGAA,oGAAAA,OAAAA,EACAA,yDAAAA,OAAAA,EAGAA,kGAAAA,OAAAA,EAVZ,sCAehCC,OAAOC,eAAiB,WAChBC,IAAAA,EAAIC,SAASC,cAAc,OAC3BZ,EAAOH,EAAWa,EAAXb,GACPgB,EAAIF,SAASC,cAAc,SAG3BE,EAAOH,SAASI,cAAc,KAClCD,EAAKE,UAAY,OACjBF,EAAKG,KAAO,QAAUjB,EACtBc,EAAKI,SAAW,YAChBJ,EAAKK,UAAY,oDACjBL,EAAKM,OAAS,SAEdP,EAAEQ,WAAWC,aAAaR,EAAMD,GAChCC,EAAKS,QAELT,EAAKO,WAAWC,aAAaT,EAAGC,IAGpC,IAAIU,EAAWb,SAASC,cAAc,SAiBtC,SAASa,IAID,IAFAC,IAAAA,EAAWf,SAASC,cAAc,mBAClCL,EAAK,EACDd,EAAI,EAAGA,EAAI,GAAIA,IACrBiC,EAASP,WAAab,EAAwBC,KArBpDiB,EAASG,iBAAiB,SAAW,SAACC,GAC9BC,IAAAA,EAAS,IAAIC,WACjBD,EAAOE,WAAWH,EAAMR,OAAOY,MAAM,IAErCH,EAAOI,OAAS,SAACC,GACTC,IAAAA,EAAMhC,KAAKiC,MAAMF,EAAGd,OAAOiB,QAE1B,IAAA,IAAIC,KADTrC,QAAQC,IAAIiC,GACKA,EAAK,CAERxB,SAASC,cAAc,cAAgB0B,EAAM,KACnD1C,MAAQuC,EAAIG,OAe5Bb","file":"daily-manifest.25c13c3f.js","sourceRoot":"..","sourcesContent":["import './sass/main.scss';\r\n\r\nconst formSerialize = formElement => {\r\n  const values = {};\r\n  const inputs = formElement.elements;\r\n\r\n  for (let i = 0; i < inputs.length; i++) {\r\n    values[inputs[i].name] = inputs[i].value;\r\n  }\r\n  return values;\r\n}\r\n\r\nconst dumpValues = form => () => { \r\n  const r = formSerialize(form);\r\n  console.log(r);\r\n  console.log(JSON.stringify(r));\r\n  let data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(r));\r\n  return data;  \r\n}\r\n\r\nconst scheduleContentTemplate = (it) => `\r\n <div class=\"content schedule-${it}\">\r\n    <div class=\"big-input-first\">\r\n        <input type=\"text\" name=\"schedule-${it}-opener\">\r\n    </div>  \r\n    <div class=\"input-box\">\r\n        <input type=\"text\" name=\"schedule-${it}-task-1\">\r\n        <input type=\"text\" name=\"schedule-${it}-task-2\">\r\n    </div>\r\n    <div class=\"big-input\">\r\n        <input type=\"text\" name=\"schedule-${it}-closer\">\r\n    </div> \r\n </div>\r\n`;\r\n\r\nwindow.retrieveDMJson = () => {\r\n    let f = document.querySelector(\"#dm\");\r\n    let data = dumpValues(f)();\r\n    let a = document.querySelector('.icon');\r\n\r\n    //hacks\r\n    let temp = document.createElement('a');\r\n    temp.className = 'icon'\r\n    temp.href = 'data:' + data;\r\n    temp.download = 'data.json';\r\n    temp.innerHTML = '<i class=\"fa fa-download\" aria-hidden=\"true\"></i>';\r\n    temp.target = \"_blank\";\r\n\r\n    a.parentNode.replaceChild(temp, a);\r\n    temp.click(); \r\n\r\n    temp.parentNode.replaceChild(a, temp);\r\n}\r\n\r\nlet uploader = document.querySelector(\"#json\");\r\nuploader.addEventListener(\"change\",  (event) => {\r\n    let reader = new FileReader();\r\n    reader.readAsText(event.target.files[0]);\r\n\r\n    reader.onload = (ev) => {\r\n        let obj = JSON.parse(ev.target.result);\r\n        console.log(obj);\r\n        for( let prop in obj ){\r\n            // console.log( prop, obj[prop] );\r\n            let ctx = document.querySelector('input[name=' + prop +']');\r\n            ctx.value = obj[prop];\r\n        }\r\n    }\r\n\r\n})\r\n\r\nfunction main()\r\n{\r\n    let schedule = document.querySelector(\".week__schedule\");\r\n    let it = 2;\r\n    for(let i = 0; i < 10; i++) {\r\n      schedule.innerHTML += scheduleContentTemplate(it++);\r\n    }    \r\n}\r\n\r\nmain();\r\n\r\n\r\n"]}