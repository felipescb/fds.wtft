{"version":3,"sources":["index.js"],"names":["fullPath","el","names","parentNode","id","unshift","ownerDocument","documentElement","tagName","c","e","previousElementSibling","join","formSerialize","formElement","values","inputs","elements","i","length","name","value","getCheckedData","checkedData","document","querySelectorAll","aux","forEach","push","getClickedData","clickedFriends","dumpValues","form","r","data","core","clickedData","console","log","JSON","stringify","encodeURIComponent","window","retrieveDMJson","f","querySelector","a","temp","createElement","className","href","download","innerHTML","target","replaceChild","click","uploader","addEventListener","event","reader","FileReader","readAsText","files","onload","ev","obj","parse","result","cd","clicked","prop","classList","add","prepareSchedule","scheduleContentTemplate","it","schedule","main","toggle","classes","contains","remove","friend","closest"],"mappings":"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","file":"micro-manifest.cc591ec0.js","sourceRoot":"..","sourcesContent":["import './sass/main.scss';\r\n\r\n\r\nconst fullPath = el => {\r\n    let names = [];\r\n    while (el.parentNode){\r\n        if (el.id){\r\n            names.unshift('#'+el.id);\r\n            break;\r\n        } else {\r\n            \r\n            if (el == el.ownerDocument.documentElement) names.unshift(el.tagName);\r\n            else {\r\n                for (var c=1, e=el;e.previousElementSibling; e=e.previousElementSibling,c++);\r\n                    names.unshift(el.tagName+\":nth-child(\"+c+\")\");\r\n            }\r\n            el = el.parentNode;\r\n        }\r\n    }\r\n    return names.join(\" > \");\r\n}\r\n\r\nconst formSerialize = formElement => {\r\n  const values = {};\r\n  const inputs = formElement.elements;\r\n\r\n  for (let i = 0; i < inputs.length; i++) {\r\n    values[inputs[i].name] = inputs[i].value;\r\n  }\r\n  return values;\r\n}\r\n\r\n//both should be getSelectorPathData(selector)\r\nconst getCheckedData = () => {\r\n   let checkedData = document.querySelectorAll(\".checked\");\r\n   let aux = []\r\n   \r\n   checkedData.forEach(i => {\r\n    aux.push(fullPath(i));\r\n   })\r\n\r\n   return aux;\r\n}\r\n\r\n//see line 33\r\nconst getClickedData = () => {\r\n    let clickedFriends = document.querySelectorAll(\".fa-clicked\");\r\n    let aux = [];\r\n\r\n    clickedFriends.forEach(i => {\r\n        aux.push(fullPath(i));\r\n    })\r\n\r\n   return aux;\r\n}\r\n\r\nconst dumpValues = form => () => { \r\n  let r = {};\r\n  r.core = formSerialize(form);\r\n  r.checkedData = getCheckedData();\r\n  r.clickedData = getClickedData();\r\n  console.log(r);\r\n  console.log(JSON.stringify(r));\r\n  let data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(r));\r\n  return data;  \r\n}\r\n\r\n\r\nwindow.retrieveDMJson = () => {\r\n    let f = document.querySelector(\"#dm\");\r\n    let data = dumpValues(f)();\r\n    let a = document.querySelector('.icon');\r\n\r\n    //hacks\r\n    let temp = document.createElement('a');\r\n    temp.className = 'icon'\r\n    temp.href = 'data:' + data;\r\n    temp.download = 'data.json';\r\n    temp.innerHTML = '<i class=\"fa fa-download\" aria-hidden=\"true\"></i>';\r\n    temp.target = \"_blank\";\r\n\r\n    a.parentNode.replaceChild(temp, a);\r\n    temp.click(); \r\n\r\n    temp.parentNode.replaceChild(a, temp);\r\n}\r\n\r\nconst uploader = document.querySelector(\"#json\");\r\n    uploader.addEventListener(\"change\",  (event) => {\r\n    let reader = new FileReader();\r\n    reader.readAsText(event.target.files[0]);\r\n\r\n    reader.onload = (ev) => {\r\n        let obj = JSON.parse(ev.target.result);\r\n        let core = obj.core;\r\n        let cd = obj.checkedData;\r\n        let clicked = obj.clickedData;\r\n\r\n        for( let prop in core ){\r\n            let ctx = document.querySelector('input[name=' + prop +']');\r\n            ctx.value = core[prop];\r\n        }\r\n\r\n        for( let c in cd ) {\r\n            let ctx = document.querySelector(cd[c]);\r\n            ctx.classList.add('checked');\r\n        }\r\n\r\n        for( let c in clicked ) {\r\n            let ctx = document.querySelector(clicked[c]);\r\n            ctx.click();\r\n        }\r\n    }\r\n})\r\n\r\n\r\n\r\nconst prepareSchedule = () => {\r\n\r\n    const scheduleContentTemplate = (it) => `\r\n     <div class=\"content schedule-${it}\">\r\n        <div class=\"big-input-first\">\r\n            <input type=\"text\" name=\"schedule-${it}-opener\">\r\n        </div>  \r\n        <div class=\"input-box\">\r\n            <input type=\"text\" name=\"schedule-${it}-task-1\">\r\n            <input type=\"text\" name=\"schedule-${it}-task-2\">\r\n        </div>\r\n        <div class=\"last checker schedule-${it}-closer\">      \r\n        </div> \r\n     </div>\r\n    `;\r\n    let schedule = document.querySelector(\".week__schedule\");\r\n    let it = 2;\r\n    for(let i = 0; i < 10; i++) {\r\n      schedule.innerHTML += scheduleContentTemplate(it++);\r\n    }    \r\n}\r\n\r\nfunction main()\r\n{\r\n    // prepareSchedule();\r\n\r\n    //checker -> checkable\r\n    const checkers = document.querySelectorAll(\".checker\");\r\n    checkers.forEach(c => c.addEventListener('click', () => {\r\n            c.classList.toggle('checked');\r\n        })\r\n    );\r\n\r\n    const reflectionsCheckers = document.querySelectorAll(\".fa-toggler\");\r\n    reflectionsCheckers.forEach(c => c.addEventListener('click', () => {\r\n        let classes = c.classList;\r\n\r\n        if(classes.contains(\"fa-posi\")) {\r\n\r\n            if (classes.contains(\"fa-check\")) {\r\n                classes.remove(\"fa-check\");\r\n                classes.add(\"fa-clicked\");\r\n                classes.add(\"fa-check-circle-o\");   \r\n            } else {                \r\n                classes.add(\"fa-check\");\r\n                classes.remove(\"fa-clicked\");\r\n                classes.remove(\"fa-check-circle-o\");\r\n            }\r\n\r\n            let friend = c.closest(\".reflection-kit\").querySelector(\".fa-neg\");\r\n            friend.classList.remove(\"fa-times-circle-o\");\r\n            friend.classList.remove(\"fa-clicked\");\r\n            friend.classList.add(\"fa-times\");\r\n        }\r\n\r\n        if (classes.contains(\"fa-neg\")) {\r\n\r\n            if (classes.contains(\"fa-times\")) {\r\n                classes.remove(\"fa-times\");\r\n                classes.add(\"fa-clicked\");\r\n                classes.add(\"fa-times-circle-o\");\r\n            } else {\r\n                classes.add(\"fa-times\");\r\n                classes.remove(\"fa-clicked\");\r\n                classes.remove(\"fa-times-circle-o\");\r\n            }\r\n\r\n            let friend = c.closest(\".reflection-kit\").querySelector(\".fa-posi\");\r\n            \r\n            friend.classList.remove(\"fa-check-circle-o\");\r\n            friend.classList.remove(\"fa-clicked\");\r\n            friend.classList.add(\"fa-check\");\r\n        }\r\n    }));\r\n}   \r\n\r\nmain();\r\n\r\n\r\n"]}